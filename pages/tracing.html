<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>质量追溯 - 智农慧眼</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/pages.css">
    <link rel="stylesheet" href="../css/modules.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        /* 质量追溯页面特定样式 */
        .page-header {
            background: url('../images/3.jpg') !important;
            background-size: cover !important;
            background-position: center !important;
            padding: 12rem 0 8rem !important;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.3);
            opacity: 1;
        }
        
        .overview-section {
            background: url('../images/n003.png');
            background-size: cover;
            background-position: center;
            position: relative;
            padding: 5rem 0;
            color: white;
            margin-top: 0;
        }
        
        .overview-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            opacity: 1;
        }
        
        .section-header {
            border: 3px solid #3498db;
            border-radius: 15px;
            padding: 20px;
            background-color: rgba(52, 152, 219, 0.05);
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        /* 溯源码示例样式 */
        .trace-code-examples {
            margin: 15px auto;
        }
        
        .trace-code-example {
            display: inline-block;
            padding: 8px 15px;
            margin: 5px;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            color: #495057;
            text-decoration: none;
            font-family: monospace;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .trace-code-example:hover {
            background-color: #e9ecef;
            border-color: #adb5bd;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .trace-code-example .badge {
            padding: 5px 8px;
            border-radius: 4px;
        }
        
        /* 溯源查询结果样式 */
        #trace-result-container {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }
        
        .trace-result-header {
            border-radius: 8px 8px 0 0;
        }
        
        .trace-result-body {
            background-color: #fff;
            border-radius: 0 0 8px 8px;
        }
        
        .product-title h4 {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }
        
        .detail-item {
            margin-bottom: 0.5rem;
        }
        
        .detail-label {
            font-weight: 500;
            color: #6c757d;
            margin-right: 0.5rem;
        }
        
        .detail-value {
            font-weight: 500;
            color: #2c3e50;
        }
        
        .trace-section-title {
            font-weight: 600;
            color: #2c3e50;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 0.75rem;
            margin-bottom: 1rem;
        }
        
        /* 时间线样式 */
        .trace-timeline {
            position: relative;
            padding-left: 30px;
        }
        
        .trace-timeline:before {
            content: '';
            position: absolute;
            left: 10px;
            top: 10px;
            bottom: 10px;
            width: 2px;
            background-color: #e9ecef;
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 25px;
        }
        
        .timeline-dot {
            position: absolute;
            left: -30px;
            top: 5px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #3498db;
            border: 3px solid #fff;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .timeline-content {
            margin-left: 10px;
        }
        
        .timeline-date {
            font-weight: 500;
            color: #3498db;
            margin-bottom: 0.25rem;
        }
        
        .timeline-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.25rem;
        }
        
        .timeline-desc {
            color: #6c757d;
            font-size: 0.95rem;
        }
        
        /* 区块链验证信息样式 */
        .verify-item {
            background-color: #f8f9fa;
            padding: 0.75rem;
            border-radius: 5px;
            border-left: 3px solid #3498db;
        }
        
        .verify-label {
            font-weight: 500;
            color: #6c757d;
            margin-right: 0.5rem;
        }
        
        .verify-value {
            font-weight: 500;
            color: #2c3e50;
            word-break: break-all;
        }

        @keyframes glowText {
            0% { text-shadow: 0 0 10px rgba(0,0,0,0.7), 0 0 20px rgba(0,0,0,0.5); }
            100% { text-shadow: 0 0 15px rgba(0,0,0,0.8), 0 0 30px rgba(0,0,0,0.6), 0 0 40px rgba(243, 156, 18, 0.3); }
        }

        @keyframes shine {
            0% { transform: rotate(25deg) translateX(-150%); }
            100% { transform: rotate(25deg) translateX(150%); }
        }

        .btn-shine {
            animation: shine 1.8s infinite;
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
        <!-- 导航内容将由JavaScript动态生成 -->
    </nav>

    <!-- 页面横幅 - 合并封面 -->
    <header class="page-header" style="margin-bottom: 0; position: relative; overflow: hidden; height: auto; padding-top: 30px; padding-bottom: 20px;">
        <!-- 动态背景 -->
        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: url('../images/3.jpg'); background-size: cover; background-position: center; filter: brightness(0.85) contrast(1.2); animation: zoomEffect 20s infinite alternate;">
        </div>
        <!-- 半透明叠加层 -->
        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0.6), rgba(0,0,0,0.3)); animation: fadeIn 1.5s ease-in-out;"></div>
        
        <div class="container" style="position: relative; z-index: 2; padding: 30px 0 15px 0;">
            <div class="row">
                <div class="col-12 text-center">
                    <h1 style="font-size: 2.5rem; font-weight: 800; color: white; margin-bottom: 0.5rem; text-shadow: 0 0 20px rgba(0,0,0,0.7), 0 0 30px rgba(0,0,0,0.5); animation: fadeInUp 1.2s ease-out, glowText 3s infinite alternate;">
                        农产品质量追溯
                    </h1>
                    <div style="width: 100px; height: 3px; background: linear-gradient(to right, #e67e22, #f39c12); margin: 0 auto 1rem; animation: scaleIn 1.5s ease-out, pulse 3s infinite alternate;"></div>
                </div>
            </div>
            
            <div class="row justify-content-center">
                <div class="col-12">
                    <div class="content-card" style="background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px); border-radius: 15px; padding: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.2); animation: fadeIn 1.8s ease-in-out; transform-style: preserve-3d; transition: all 0.3s ease;">
                        <h2 class="text-white text-center mb-2" style="font-size: 1.5rem; font-weight: 600; text-shadow: 0 0 15px rgba(0,0,0,0.8); animation: slideInLeft 1.5s ease-out;">
                            区块链驱动的全链条追溯系统
                        </h2>
                        
                        <p class="lead text-center mb-3" style="font-size: 0.95rem; line-height: 1.4; color: rgba(255,255,255,0.95); text-shadow: 0 0 10px rgba(0,0,0,0.8); animation: slideInRight 1.5s ease-out;">
                            将区块链技术与物联网设备无缝结合，打造从"田间到餐桌"的全过程可视化追溯系统，确保农产品质量安全与真实性，提供高度透明的食品安全保障。
                        </p>
                        
                        <div class="row justify-content-center mb-2 text-center">
                            <div class="col-3">
                                <div class="feature-icon-wrap" style="animation: fadeInUp 0.8s ease-out; transition: all 0.3s ease;" 
                                     onmouseover="this.style.transform='translateY(-8px)'; this.querySelector('i').style.transform='scale(1.2)'; this.querySelector('i').style.color='#f39c12';" 
                                     onmouseout="this.style.transform='translateY(0)'; this.querySelector('i').style.transform='scale(1)'; this.querySelector('i').style.color='rgba(255,255,255,0.95)';">
                                    <i class="bi bi-qr-code" style="font-size: 1.6rem; color: rgba(255,255,255,0.95); display: block; margin-bottom: 5px; text-shadow: 0 0 10px rgba(0,0,0,0.5); transition: all 0.3s ease;"></i>
                                    <div style="font-size: 0.8rem; color: rgba(255,255,255,0.95); text-shadow: 0 0 8px rgba(0,0,0,0.8);">一物一码</div>
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="feature-icon-wrap" style="animation: fadeInUp 1s ease-out; transition: all 0.3s ease;" 
                                     onmouseover="this.style.transform='translateY(-8px)'; this.querySelector('i').style.transform='scale(1.2)'; this.querySelector('i').style.color='#f39c12';" 
                                     onmouseout="this.style.transform='translateY(0)'; this.querySelector('i').style.transform='scale(1)'; this.querySelector('i').style.color='rgba(255,255,255,0.95)';">
                                    <i class="bi bi-card-checklist" style="font-size: 1.6rem; color: rgba(255,255,255,0.95); display: block; margin-bottom: 5px; text-shadow: 0 0 10px rgba(0,0,0,0.5); transition: all 0.3s ease;"></i>
                                    <div style="font-size: 0.8rem; color: rgba(255,255,255,0.95); text-shadow: 0 0 8px rgba(0,0,0,0.8);">全程记录</div>
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="feature-icon-wrap" style="animation: fadeInUp 1.2s ease-out; transition: all 0.3s ease;" 
                                     onmouseover="this.style.transform='translateY(-8px)'; this.querySelector('i').style.transform='scale(1.2)'; this.querySelector('i').style.color='#f39c12';" 
                                     onmouseout="this.style.transform='translateY(0)'; this.querySelector('i').style.transform='scale(1)'; this.querySelector('i').style.color='rgba(255,255,255,0.95)';">
                                    <i class="bi bi-shield-check" style="font-size: 1.6rem; color: rgba(255,255,255,0.95); display: block; margin-bottom: 5px; text-shadow: 0 0 10px rgba(0,0,0,0.5); transition: all 0.3s ease;"></i>
                                    <div style="font-size: 0.8rem; color: rgba(255,255,255,0.95); text-shadow: 0 0 8px rgba(0,0,0,0.8);">防伪溯源</div>
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="feature-icon-wrap" style="animation: fadeInUp 1.4s ease-out; transition: all 0.3s ease;" 
                                     onmouseover="this.style.transform='translateY(-8px)'; this.querySelector('i').style.transform='scale(1.2)'; this.querySelector('i').style.color='#f39c12';" 
                                     onmouseout="this.style.transform='translateY(0)'; this.querySelector('i').style.transform='scale(1)'; this.querySelector('i').style.color='rgba(255,255,255,0.95)';">
                                    <i class="bi bi-search" style="font-size: 1.6rem; color: rgba(255,255,255,0.95); display: block; margin-bottom: 5px; text-shadow: 0 0 10px rgba(0,0,0,0.5); transition: all 0.3s ease;"></i>
                                    <div style="font-size: 0.8rem; color: rgba(255,255,255,0.95); text-shadow: 0 0 8px rgba(0,0,0,0.8);">一键查询</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="success-story" style="animation: fadeIn 2s ease-in-out; background: rgba(243, 156, 18, 0.25); border-left: 4px solid #f39c12; padding: 0.5rem; text-align: left; border-radius: 0 10px 10px 0; font-size: 0.85rem; margin-top: 5px; box-shadow: 0 3px 10px rgba(0,0,0,0.2); transition: all 0.3s ease;" onmouseover="this.style.transform='translateX(5px)'; this.style.background='rgba(243, 156, 18, 0.35)';" onmouseout="this.style.transform='translateX(0)'; this.style.background='rgba(243, 156, 18, 0.25)';">
                            <i class="bi bi-check-circle-fill" style="color: #f39c12; margin-right: 5px; text-shadow: 0 0 5px rgba(0,0,0,0.3);"></i>
                            <span style="color: white; text-shadow: 0 0 8px rgba(0,0,0,0.6);">盘锦大米通过区块链溯源系统实现了28%的产品溢价，市民对产品信任度提升42%。</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 添加查看更多按钮 -->
            <div class="row">
                <div class="col-12 text-center mt-3">
                    <a href="#tracing-info" class="btn btn-primary px-4 py-2 scroll-btn" style="border-radius: 50px; font-weight: 600; box-shadow: 0 4px 15px rgba(243, 156, 18, 0.5); border: none; position: relative; overflow: hidden; transition: all 0.3s ease; background: linear-gradient(to right, #e67e22, #f39c12);" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 25px rgba(243, 156, 18, 0.7)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(243, 156, 18, 0.5)';">
                        <span style="position: relative; z-index: 2;">
                            <i class="bi bi-chevron-double-down me-1"></i>查看更多
                        </span>
                        <span class="btn-shine" style="position: absolute; top: -10%; left: -10%; width: 120%; height: 120%; background: linear-gradient(45deg, #e67e22, #f39c12); opacity: 0.7; transform: rotate(25deg) translateX(-150%); transition: all 0.6s ease;"></span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- 质量追溯系统概览 -->
    
    <!-- 机器视觉品质检测 -->
    <section class="ai-section bg-light">
        <div class="container">
            <div class="section-header text-center">
                <h2>机器视觉品质检测</h2>
                <p>AI驱动的农产品质量快速检测与分级系统</p>
            </div>
            <div class="row">
                <div class="col-lg-12 mb-4">
                    <div class="ai-image text-center mb-4">
                        <!-- 删除的图片 -->
                    </div>
                </div>
            </div>
            <div class="row mb-5">
                <div class="col-lg-3 spec-item-col">
                    <div class="spec-item text-center">
                        <div class="spec-icon mx-auto">
                                <i class="bi bi-eye"></i>
                            </div>
                            <div class="spec-content">
                                <h3>视觉检测精度</h3>
                                <p>采用高精度计算机视觉算法，蔬果外观缺陷检测准确率达98.3%，高于人工检测30%</p>
                            </div>
                        </div>
                </div>
                <div class="col-lg-3 spec-item-col">
                    <div class="spec-item text-center">
                        <div class="spec-icon mx-auto">
                                <i class="bi bi-speedometer2"></i>
                            </div>
                            <div class="spec-content">
                                <h3>检测效率</h3>
                                <p>单条检测线每小时可处理水果5吨，蔬菜8吨，全自动分级分拣</p>
                            </div>
                        </div>
                </div>
                <div class="col-lg-3 spec-item-col">
                    <div class="spec-item text-center">
                        <div class="spec-icon mx-auto">
                                <i class="bi bi-palette"></i>
                            </div>
                            <div class="spec-content">
                                <h3>多维度评估</h3>
                                <p>从形状、色泽、大小、缺陷等多维度进行综合评价，支持30多种常见农产品检测</p>
                            </div>
                        </div>
                </div>
                <div class="col-lg-3 spec-item-col">
                    <div class="spec-item text-center">
                        <div class="spec-icon mx-auto">
                                <i class="bi bi-cloud-arrow-up"></i>
                            </div>
                            <div class="spec-content">
                                <h3>数据上链</h3>
                                <p>检测数据实时上传区块链，并生成质量检测证书，确保产品质量信息可追溯</p>
                            </div>
                        </div>
                    </div>
                </div>
            
            <!-- 品质检测演示区域 -->
            <div class="quality-demo-area mt-5" id="quality-demo">
                <div class="row justify-content-center">
                    <div class="col-lg-12 px-0">
                        <div class="demo-card">
                            <div class="product-types text-center mb-4">
                                <div class="product-selection-container">
                                    <span class="type-label me-3"><i class="bi bi-tags me-1"></i>选择农产品类型:</span>
                                    <div class="btn-group product-btn-group" role="group">
                                        <button type="button" class="btn btn-outline-primary product-type-btn active" data-type="fruit">
                                            <i class="bi bi-apple me-1"></i>水果
                                        </button>
                                        <button type="button" class="btn btn-outline-primary product-type-btn" data-type="vegetable">
                                            <i class="bi bi-flower1 me-1"></i>蔬菜
                                        </button>
                                        <button type="button" class="btn btn-outline-primary product-type-btn" data-type="grain">
                                            <i class="bi bi-egg me-1"></i>粮食
                                        </button>
            </div>
        </div>
                            </div>
                            
                            <div class="row g-4">
                                <!-- 检测标准展示 -->
                                <div class="col-lg-4 col-md-5">
                                    <div class="standards-card h-100">
                                        <h4><i class="bi bi-clipboard-check me-2"></i>检测标准</h4>
                                        <p class="standards-description text-muted">基于国家农产品质量安全标准制定的检测指标</p>
                                        <div id="inspection-standards">
                                            <div class="standards-list">
                                                <div class="standard-item">
                                                    <span class="standard-name">外观完整度</span>
                                                    <span class="standard-threshold">≥95%</span>
                                                </div>
                                                <div class="standard-item">
                                                    <span class="standard-name">颜色均匀度</span>
                                                    <span class="standard-threshold">≥90%</span>
                                                </div>
                                                <div class="standard-item">
                                                    <span class="standard-name">成熟度</span>
                                                    <span class="standard-threshold">适中</span>
                                                </div>
                                                <div class="standard-item">
                                                    <span class="standard-name">农残检测</span>
                                                    <span class="standard-threshold">符合国标</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="quality-levels mt-4">
                                            <h5>品质等级说明</h5>
                                            <div class="level-item">
                                                <span class="level-badge grade-a">A级</span>
                                                <span class="level-desc">优质，90-100分</span>
                                            </div>
                                            <div class="level-item">
                                                <span class="level-badge grade-b">B级</span>
                                                <span class="level-desc">良好，80-89分</span>
                                            </div>
                                            <div class="level-item">
                                                <span class="level-badge grade-c">C级</span>
                                                <span class="level-desc">合格，70-79分</span>
                                            </div>
                                        </div>

                                        <!-- 移动图片预览区到底部，并添加更多间距 -->
                                        <div class="preview-container mt-5 mb-3">
                                            <h5 class="preview-title"><i class="bi bi-image me-2"></i>样本预览</h5>
                                            <div class="preview-area">
                                                <img id="upload-preview" class="img-fluid rounded-3 shadow-sm" style="display: none; max-height: 180px; object-fit: contain;">
                                                <div class="preview-placeholder" id="preview-placeholder">
                                                    <i class="bi bi-card-image"></i>
                                                    <span>分析结果将在此显示</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 操作区域 -->
                                <div class="col-lg-8 col-md-7">
                                    <div class="operation-area mb-4">
                                        <div class="row g-3">
                                            <div class="col-md-12">
                                                <div class="upload-options">
                                                    <h4><i class="bi bi-cloud-upload me-2"></i>上传检测</h4>
                                                    <p>上传您的农产品图片进行品质评估</p>
                                                    <div class="upload-area">
                                                        <div class="custom-upload-btn">
                                                            <i class="bi bi-image me-2"></i>选择图片
                                                            <input type="file" class="form-control" id="product-image-upload" accept="image/*">
                                                        </div>
                                                        <button id="analyze-btn" class="btn btn-success w-100 mt-3" style="display: none;">
                                                            <i class="bi bi-search me-1"></i>开始分析
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 检测结果区域 -->
                                    <div id="inspection-results" class="inspection-results w-100">
                                        <!-- 分析结果网格 - 默认隐藏 -->
                                        <div id="analysis-grid" class="analysis-results-grid" style="display: none; width: 100%;">
                                            <div class="row g-2 mx-0 w-100">
                                                <!-- 品质评分 -->
                                                <div class="col-md-3 px-1">
                                                    <div class="result-card h-100 w-100">
                                                        <div class="card-header">
                                                            <h5><i class="bi bi-award me-2"></i>品质评分</h5>
                                                        </div>
                                                        <div class="card-body d-flex justify-content-center align-items-center">
                                                            <div class="quality-score">
                                                                <div class="score-circle">
                                                                    <div class="score-value">92</div>
                                                                    <div class="score-unit">分</div>
                                                                </div>
                                                                <div class="grade-badge grade-a">A级</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <!-- 检测项目 -->
                                                <div class="col-md-3 px-1">
                                                    <div class="result-card h-100 w-100">
                                                        <div class="card-header">
                                                            <h5><i class="bi bi-clipboard-data me-2"></i>检测项目</h5>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="inspection-items">
                                                                <div class="inspection-item">
                                                                    <div class="item-name">外观完整度</div>
                                                                    <div class="item-score-bar">
                                                                        <div class="progress">
                                                                            <div class="progress-bar bg-success" role="progressbar" style="width: 96%"></div>
                                                                        </div>
                                                                        <span class="score-value">96</span>
                                                                    </div>
                                                                </div>
                                                                <div class="inspection-item">
                                                                    <div class="item-name">颜色均匀度</div>
                                                                    <div class="item-score-bar">
                                                                        <div class="progress">
                                                                            <div class="progress-bar bg-success" role="progressbar" style="width: 94%"></div>
                                                                        </div>
                                                                        <span class="score-value">94</span>
                                                                    </div>
                                                                </div>
                                                                <div class="inspection-item">
                                                                    <div class="item-name">成熟度</div>
                                                                    <div class="item-score-bar">
                                                                        <div class="progress">
                                                                            <div class="progress-bar bg-success" role="progressbar" style="width: 90%"></div>
                                                                        </div>
                                                                        <span class="score-value">90</span>
                                                                    </div>
                                                                </div>
                                                                <div class="inspection-item">
                                                                    <div class="item-name">农残检测</div>
                                                                    <div class="item-score-bar">
                                                                        <div class="progress">
                                                                            <div class="progress-bar bg-success" role="progressbar" style="width: 98%"></div>
                                                                        </div>
                                                                        <span class="score-value">98</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <!-- 缺陷检测 -->
                                                <div class="col-md-3 px-1">
                                                    <div class="result-card h-100 w-100">
                                                        <div class="card-header">
                                                            <h5><i class="bi bi-exclamation-triangle me-2"></i>缺陷检测</h5>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="defect-analysis">
                                                                <div class="defect-result">
                                                                    <i class="bi bi-check-circle-fill text-success fs-5"></i>
                                                                    <span class="defect-info">未检测到明显缺陷</span>
                                                                </div>
                                                                <div class="defect-details mt-3">
                                                                    <div class="defect-item low-risk">
                                                                        <span class="defect-name">轻微色斑</span>
                                                                        <span class="defect-level">低风险</span>
                                                                    </div>
                                                                    <div class="defect-note mt-2">
                                                                        <small class="text-muted">
                                                                            <i class="bi bi-info-circle me-1"></i>
                                                                            色斑面积占比小于1%，不影响食用安全与品质
                                                                        </small>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <!-- 专家建议 -->
                                                <div class="col-md-3 px-1">
                                                    <div class="result-card h-100 w-100">
                                                        <div class="card-header">
                                                            <h5><i class="bi bi-lightbulb me-2"></i>专家建议</h5>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="expert-advice">
                                                                <p>该农产品品质优秀，符合高级市场销售标准，建议：</p>
                                                                <ul class="advice-list">
                                                                    <li>适合精品超市高端销售</li>
                                                                    <li>冷链运输，保持4℃恒温</li>
                                                                    <li>预计保质期可达7-10天</li>
                                                                </ul>
                                                                <div class="action-buttons mt-3">
                                                                    <button id="generate-certificate-btn" class="btn btn-outline-primary btn-sm me-2">
                                                                        <i class="bi bi-file-earmark-text me-1"></i>生成检测证书
                                                                    </button>
                                                                    <button id="upload-blockchain-btn" class="btn btn-outline-success btn-sm">
                                                                        <i class="bi bi-box me-1"></i>上传至区块链
                                                                    </button>
                            </div>
                        </div>
                            </div>
                            </div>
                        </div>
                            </div>
                            </div>
                        </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 追溯信息查询 -->
    <section class="tracing-query-section bg-light">
        <div class="container">
            <div class="section-header text-center">
                <h2>追溯信息查询</h2>
                <p>扫码即可获取农产品全生命周期信息</p>
            </div>
            
            <!-- 移动的供应链可视化展示 -->
            <div class="supply-chain-visual mb-5">
                <div class="chain-flow">
                    <div class="chain-stage active" data-stage="production">
                        <div class="stage-icon">
                            <i class="bi bi-flower1"></i>
                        </div>
                        <div class="stage-name">生产环节</div>
                    </div>
                    <div class="chain-connector" data-from="production"></div>
                    <div class="chain-stage" data-stage="processing">
                        <div class="stage-icon">
                            <i class="bi bi-gear"></i>
                        </div>
                        <div class="stage-name">加工环节</div>
                    </div>
                    <div class="chain-connector" data-from="processing"></div>
                    <div class="chain-stage" data-stage="logistics">
                        <div class="stage-icon">
                            <i class="bi bi-truck"></i>
                        </div>
                        <div class="stage-name">物流环节</div>
                    </div>
                    <div class="chain-connector" data-from="logistics"></div>
                    <div class="chain-stage" data-stage="retail">
                        <div class="stage-icon">
                            <i class="bi bi-shop"></i>
                        </div>
                        <div class="stage-name">销售环节</div>
                    </div>
                    <div class="chain-connector" data-from="retail"></div>
                    <div class="chain-stage" data-stage="consumer">
                        <div class="stage-icon">
                            <i class="bi bi-people"></i>
                        </div>
                        <div class="stage-name">消费者</div>
                    </div>
                </div>
            </div>
            
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="query-demo text-center">
                        <!-- 溯源码示例 -->
                        <div class="trace-code-examples mb-4">
                            <p class="small text-muted mb-2">示例溯源码（点击使用）：</p>
                            <div class="d-flex flex-wrap justify-content-center gap-2">
                                <a href="javascript:void(0)" class="trace-code-example" data-code="ZNHY-2023-8642193" onclick="document.querySelector('.input-group input').value=this.getAttribute('data-code'); document.querySelector('.input-group button').click();">
                                    <span class="badge bg-success me-1"><i class="bi bi-apple"></i></span>
                                    ZNHY-2023-8642193
                                </a>
                                <a href="javascript:void(0)" class="trace-code-example" data-code="ZNHY-2023-7569421" onclick="document.querySelector('.input-group input').value=this.getAttribute('data-code'); document.querySelector('.input-group button').click();">
                                    <span class="badge bg-warning text-dark me-1"><i class="bi bi-flower1"></i></span>
                                    ZNHY-2023-7569421
                                </a>
                                <a href="javascript:void(0)" class="trace-code-example" data-code="ZNHY-2023-9145328" onclick="document.querySelector('.input-group input').value=this.getAttribute('data-code'); document.querySelector('.input-group button').click();">
                                    <span class="badge bg-info me-1"><i class="bi bi-egg"></i></span>
                                    ZNHY-2023-9145328
                                </a>
                            </div>
                        </div>
                        
                        <div class="manual-query mt-4">
                            <p class="mb-2">输入溯源码查询</p>
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="请输入16位溯源码" id="trace-code-input">
                                <button class="btn btn-primary" type="button" id="trace-query-btn">查询</button>
                            </div>
                        </div>
                        <!-- 溯源查询结果区域 -->
                        <div id="trace-result-container" class="mt-5" style="display: none;">
                            <div class="trace-result-header bg-success text-white p-3 rounded-top">
                                <h4 class="mb-0"><i class="bi bi-check-circle-fill me-2"></i>溯源查询成功</h4>
                                <p class="mb-0 mt-1">产品已通过区块链验证，信息真实可靠</p>
                            </div>
                            <div class="trace-result-body p-4 border border-top-0 rounded-bottom">
                                <div class="product-info mb-4">
                                    <div class="product-title">
                                        <h4 id="product-name">产品名称</h4>
                                        <div class="d-flex align-items-center mb-3">
                                            <span class="badge bg-success me-2" id="product-grade">A级</span>
                                            <span class="text-muted">溯源码: <span id="display-trace-code">ZNHY-2023-XXXXXXX</span></span>
                                        </div>
                                    </div>
                                    <div class="product-detail mt-3">
                                        <div class="row g-3">
                                            <div class="col-md-6">
                                                <div class="detail-item">
                                                    <span class="detail-label">生产企业:</span>
                                                    <span class="detail-value" id="producer-name">--</span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="detail-item">
                                                    <span class="detail-label">产品规格:</span>
                                                    <span class="detail-value" id="product-spec">--</span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="detail-item">
                                                    <span class="detail-label">生产日期:</span>
                                                    <span class="detail-value" id="production-date">--</span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="detail-item">
                                                    <span class="detail-label">保质期:</span>
                                                    <span class="detail-value" id="shelf-life">--</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 溯源进度 -->
                                <div class="trace-progress mb-4">
                                    <h5 class="trace-section-title"><i class="bi bi-arrow-repeat me-2"></i>产品溯源进度</h5>
                                    <div class="trace-timeline mt-3">
                                        <div class="timeline-item">
                                            <div class="timeline-dot"></div>
                                            <div class="timeline-content">
                                                <div class="timeline-date" id="planting-date">--</div>
                                                <div class="timeline-title">农作物种植</div>
                                                <div class="timeline-desc" id="planting-desc">--</div>
                                            </div>
                                        </div>
                                        <div class="timeline-item">
                                            <div class="timeline-dot"></div>
                                            <div class="timeline-content">
                                                <div class="timeline-date" id="harvest-date">--</div>
                                                <div class="timeline-title">采收加工</div>
                                                <div class="timeline-desc" id="harvest-desc">--</div>
                                            </div>
                                        </div>
                                        <div class="timeline-item">
                                            <div class="timeline-dot"></div>
                                            <div class="timeline-content">
                                                <div class="timeline-date" id="inspection-date">--</div>
                                                <div class="timeline-title">质量检测</div>
                                                <div class="timeline-desc" id="inspection-desc">--</div>
                                            </div>
                                        </div>
                                        <div class="timeline-item">
                                            <div class="timeline-dot"></div>
                                            <div class="timeline-content">
                                                <div class="timeline-date" id="shipping-date">--</div>
                                                <div class="timeline-title">物流配送</div>
                                                <div class="timeline-desc" id="shipping-desc">--</div>
                                            </div>
                                        </div>
                                        <div class="timeline-item">
                                            <div class="timeline-dot"></div>
                                            <div class="timeline-content">
                                                <div class="timeline-date" id="retail-date">--</div>
                                                <div class="timeline-title">销售终端</div>
                                                <div class="timeline-desc" id="retail-desc">--</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 区块链验证 -->
                                <div class="blockchain-verify">
                                    <h5 class="trace-section-title"><i class="bi bi-shield-check me-2"></i>区块链信息验证</h5>
                                    <div class="verify-info mt-3">
                                        <div class="row g-3">
                                            <div class="col-md-6">
                                                <div class="verify-item">
                                                    <span class="verify-label">上链时间:</span>
                                                    <span class="verify-value" id="blockchain-time">--</span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="verify-item">
                                                    <span class="verify-label">区块高度:</span>
                                                    <span class="verify-value" id="block-height">--</span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="verify-item">
                                                    <span class="verify-label">交易哈希:</span>
                                                    <span class="verify-value" id="tx-hash">--</span>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="verify-item">
                                                    <span class="verify-label">验证节点:</span>
                                                    <span class="verify-value" id="verify-nodes">--</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row mt-5">
                <div class="col-lg-4 col-md-6">
                    <div class="tracing-card">
                        <div class="tracing-icon">
                            <i class="bi bi-geo-alt"></i>
                        </div>
                        <h3>原产地信息</h3>
                        <ul class="tracing-details">
                            <li>种植基地地理位置</li>
                            <li>土壤环境监测数据</li>
                            <li>气候条件记录</li>
                            <li>农田环境影像资料</li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="tracing-card">
                        <div class="tracing-icon">
                            <i class="bi bi-flower1"></i>
                        </div>
                        <h3>种植过程信息</h3>
                        <ul class="tracing-details">
                            <li>种子品种及来源</li>
                            <li>施肥用药记录</li>
                            <li>灌溉管理情况</li>
                            <li>病虫害防治措施</li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="tracing-card">
                        <div class="tracing-icon">
                            <i class="bi bi-award"></i>
                        </div>
                        <h3>质量认证信息</h3>
                        <ul class="tracing-details">
                            <li>农残检测报告</li>
                            <li>品质等级评定</li>
                            <li>有机认证状态</li>
                            <li>质量安全检测结果</li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="tracing-card">
                        <div class="tracing-icon">
                            <i class="bi bi-box-seam"></i>
                        </div>
                        <h3>收贮运信息</h3>
                        <ul class="tracing-details">
                            <li>采收时间与方式</li>
                            <li>仓储环境参数</li>
                            <li>物流配送路线</li>
                            <li>温控条件监测数据</li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="tracing-card">
                        <div class="tracing-icon">
                            <i class="bi bi-shop"></i>
                        </div>
                        <h3>销售信息</h3>
                        <ul class="tracing-details">
                            <li>销售渠道记录</li>
                            <li>上架时间信息</li>
                            <li>价格变动历史</li>
                            <li>销售区域分布</li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="tracing-card">
                        <div class="tracing-icon">
                            <i class="bi bi-people"></i>
                        </div>
                        <h3>生产主体信息</h3>
                        <ul class="tracing-details">
                            <li>种植企业/农户资质</li>
                            <li>联系方式与地址</li>
                            <li>企业荣誉展示</li>
                            <li>其他相关产品</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 联系我们 -->
    <section class="contact-section bg-primary text-white">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h2>想了解更多或试用我们的监测系统？</h2>
                    <p>填写表单，我们的技术专家将为您提供详细解答和演示</p>
                </div>
                <div class="col-lg-6">
                    <form class="contact-form">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <input type="text" class="form-control" placeholder="您的姓名" required>
                            </div>
                            <div class="col-md-6">
                                <input type="tel" class="form-control" placeholder="联系电话" required>
                            </div>
                            <div class="col-12">
                                <input type="email" class="form-control" placeholder="电子邮箱" required>
                            </div>
                            <div class="col-12">
                                <select class="form-select">
                                    <option selected>您的种植规模</option>
                                    <option>50亩以下</option>
                                    <option>50-200亩</option>
                                    <option>200-1000亩</option>
                                    <option>1000亩以上</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <textarea class="form-control" rows="3" placeholder="您想了解的内容或遇到的问题"></textarea>
                            </div>
                            <div class="col-12">
                                <button type="submit" class="btn btn-light">提交咨询</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <div class="footer-info">
                        
                        <p>智农慧眼致力于通过AI技术重构传统农业生产流程，帮助农户提高产量、降低成本，推动农业现代化发展。</p>
                        <div class="social-links">
                            <a href="#"><i class="bi bi-wechat"></i></a>
                            <a href="#"><i class="bi bi-tencent-qq"></i></a>
                            <a href="#"><i class="bi bi-sina-weibo"></i></a>
                            <a href="#"><i class="bi bi-envelope-fill"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2">
                    <h4>快速链接</h4>
                    <ul class="footer-links">
                        <li><a href="../index.html">首页</a></li>
                        <li><a href="monitoring.html">农情监测</a></li>
                        <li><a href="decision.html">种植决策</a></li>
                        <li><a href="tracing.html">质量追溯</a></li>
                        <li><a href="knowledge.html">知识服务</a></li>
                    </ul>
                </div>
                <div class="col-lg-2">
                    <h4>支持中心</h4>
                    <ul class="footer-links">
                        <li><a href="help.html">帮助中心</a></li>
                        <li><a href="faq.html">常见问题</a></li>
                        <li><a href="download.html">APP下载</a></li>
                        <li><a href="training.html">培训教程</a></li>
                        <li><a href="feedback.html">问题反馈</a></li>
                    </ul>
                </div>
                <div class="col-lg-4">
                    <h4>联系我们</h4>
                    <div class="contact-info">
                        <p><i class="bi bi-geo-alt-fill"></i> 辽宁省大连市沙河口区大连海洋大学</p>
                        <p><i class="bi bi-telephone-fill"></i> 13033229487</p>
                        <p><i class="bi bi-envelope-fill"></i> 13470118418@163.com</p>
                        <p><i class="bi bi-clock-fill"></i> 工作时间: 周一至周五 9:00-18:00</p>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>© 2025 智农慧眼 - AI驱动下的精准种植与智能农业管理平台 | 辽ICP备20254321号</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/quality-inspection.js"></script>
    
    <!-- 溯源查询功能 -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 示例溯源数据库
            const traceDatabase = {
                "ZNHY-2023-8642193": {
                    productName: "赤峰有机红富士苹果",
                    productGrade: "A级",
                    producer: "内蒙古赤峰市松山区有机果蔬专业合作社",
                    specification: "中大果 75mm以上/个",
                    productionDate: "2023-10-10",
                    shelfLife: "常温保存60天",
                    timeline: {
                        planting: {
                            date: "2023-03-15",
                            description: "种植于海拔800米山地果园，采用有机肥培育，无农药使用记录"
                        },
                        harvest: {
                            date: "2023-10-08",
                            description: "人工采摘，果实成熟度95%以上，糖度≥14°"
                        },
                        inspection: {
                            date: "2023-10-09",
                            description: "通过AI视觉检测，农残检测合格，评定为A级优质果品"
                        },
                        shipping: {
                            date: "2023-10-12",
                            description: "冷链物流运输，全程温控保持在2-5℃"
                        },
                        retail: {
                            date: "2023-10-15",
                            description: "配送至沈阳市铁西区品质生活超市"
                        }
                    },
                    blockchain: {
                        time: "2023-10-09 16:28:33",
                        height: "9,782,461",
                        txHash: "0xf7c8731e54d574fccb68e923990c59337b161f3ebf0590391bf375c1edb5a537",
                        nodes: "12/12 确认"
                    }
                },
                "ZNHY-2023-7569421": {
                    productName: "辽南有机西红柿",
                    productGrade: "A级",
                    producer: "辽宁省大连市普兰店区绿色蔬菜种植基地",
                    specification: "精选装 约500g/盒",
                    productionDate: "2023-11-05",
                    shelfLife: "冷藏保存15天",
                    timeline: {
                        planting: {
                            date: "2023-08-20",
                            description: "智能温室大棚种植，物联网控制水肥一体化管理，有机种植认证"
                        },
                        harvest: {
                            date: "2023-11-03",
                            description: "人工精选采摘，挑选8-9成熟度果实，外观完整无损"
                        },
                        inspection: {
                            date: "2023-11-04",
                            description: "通过机器视觉检测系统分级，品质指标全部达到A级标准"
                        },
                        shipping: {
                            date: "2023-11-06",
                            description: "冷链物流配送，仓储温度保持在4℃"
                        },
                        retail: {
                            date: "2023-11-08",
                            description: "配送至沈阳市沈北新区盛京有机食材超市"
                        }
                    },
                    blockchain: {
                        time: "2023-11-04 14:45:21",
                        height: "9,853,692",
                        txHash: "0xa28c7634fe190cbad56a9342c3de538a4a8d935f3978a8a650d81f7aed4b5829",
                        nodes: "12/12 确认"
                    }
                },
                "ZNHY-2023-9145328": {
                    productName: "黑土地东北有机大米",
                    productGrade: "A级",
                    producer: "黑龙江省五常市稻米专业合作联社",
                    specification: "精选1号 5kg/袋",
                    productionDate: "2023-09-20",
                    shelfLife: "密封保存12个月",
                    timeline: {
                        planting: {
                            date: "2023-04-25",
                            description: "种植于黑龙江五常市黑土地核心区，采用传统与现代相结合的种植技术"
                        },
                        harvest: {
                            date: "2023-09-10",
                            description: "机械化收割，秋收季节晴天完成，水稻成熟度均匀"
                        },
                        inspection: {
                            date: "2023-09-15",
                            description: "通过碾米质量检测、出米率检测和农残检测，各项指标优于国家标准"
                        },
                        shipping: {
                            date: "2023-09-22",
                            description: "恒温干燥运输，湿度控制在35%以下"
                        },
                        retail: {
                            date: "2023-09-28",
                            description: "批发配送至辽宁省内各大优质粮油专卖店"
                        }
                    },
                    blockchain: {
                        time: "2023-09-18 10:12:56",
                        height: "9,726,105",
                        txHash: "0xc92e7d41b47c54c8efb6dba75f7b188e7bdcc6683a8afd9914d7d18455a582dc",
                        nodes: "12/12 确认"
                    }
                }
            };
            
            // 绑定查询按钮事件
            const queryBtn = document.getElementById('trace-query-btn');
            const resultContainer = document.getElementById('trace-result-container');
            
            queryBtn.addEventListener('click', function() {
                const traceCode = document.getElementById('trace-code-input').value.trim();
                
                if (!traceCode) {
                    alert('请输入溯源码');
                    return;
                }
                
                // 查询溯源信息
                queryTraceInfo(traceCode);
            });
            
            // 实现溯源查询功能
            function queryTraceInfo(traceCode) {
                // 模拟查询延迟
                queryBtn.disabled = true;
                queryBtn.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> 查询中...';
                
                setTimeout(function() {
                    const traceInfo = traceDatabase[traceCode];
                    
                    if (traceInfo) {
                        // 显示查询结果
                        displayTraceInfo(traceCode, traceInfo);
                        resultContainer.style.display = 'block';
                    } else {
                        alert('未找到该溯源码对应的产品信息，请确认溯源码是否正确');
                        resultContainer.style.display = 'none';
                    }
                    
                    queryBtn.disabled = false;
                    queryBtn.innerHTML = '查询';
                }, 1500);
            }
            
            // 展示溯源信息
            function displayTraceInfo(traceCode, info) {
                // 更新产品基本信息
                document.getElementById('product-name').textContent = info.productName;
                document.getElementById('product-grade').textContent = info.productGrade;
                document.getElementById('display-trace-code').textContent = traceCode;
                document.getElementById('producer-name').textContent = info.producer;
                document.getElementById('product-spec').textContent = info.specification;
                document.getElementById('production-date').textContent = info.productionDate;
                document.getElementById('shelf-life').textContent = info.shelfLife;
                
                // 更新时间线信息
                document.getElementById('planting-date').textContent = info.timeline.planting.date;
                document.getElementById('planting-desc').textContent = info.timeline.planting.description;
                
                document.getElementById('harvest-date').textContent = info.timeline.harvest.date;
                document.getElementById('harvest-desc').textContent = info.timeline.harvest.description;
                
                document.getElementById('inspection-date').textContent = info.timeline.inspection.date;
                document.getElementById('inspection-desc').textContent = info.timeline.inspection.description;
                
                document.getElementById('shipping-date').textContent = info.timeline.shipping.date;
                document.getElementById('shipping-desc').textContent = info.timeline.shipping.description;
                
                document.getElementById('retail-date').textContent = info.timeline.retail.date;
                document.getElementById('retail-desc').textContent = info.timeline.retail.description;
                
                // 更新区块链信息
                document.getElementById('blockchain-time').textContent = info.blockchain.time;
                document.getElementById('block-height').textContent = info.blockchain.height;
                document.getElementById('tx-hash').textContent = info.blockchain.txHash;
                document.getElementById('verify-nodes').textContent = info.blockchain.nodes;
                
                // 滚动到结果区域
                resultContainer.scrollIntoView({ behavior: 'smooth' });
            }
            
            // 示例代码点击事件已经在HTML中通过onclick属性实现
        });
    </script>
    
    <script>
    // 添加平滑滚动效果的JavaScript
    document.addEventListener('DOMContentLoaded', function() {
        // 获取所有带有scroll-btn类的链接
        const scrollLinks = document.querySelectorAll('.scroll-btn');
        
        // 为每个链接添加点击事件
        scrollLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // 获取目标部分的ID
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                
                if (targetSection) {
                    // 平滑滚动到目标位置
                    targetSection.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // 闪光效果动画现在由CSS类处理，不需要手动JavaScript设置
        });
    </script>
</body>
</html> 